# Releazio iOS SDK

[![Swift](https://img.shields.io/badge/Swift-5.9+-orange.svg)](https://swift.org)
[![Platform](https://img.shields.io/badge/Platform-iOS%20%7C%20macOS%20%7C%20watchOS%20%7C%20tvOS-blue.svg)](https://developer.apple.com)
[![License](https://img.shields.io/badge/License-MIT-green.svg)](LICENSE)

**–Ø–∑—ã–∫ / Language:** [English](./README.md) | [–†—É—Å—Å–∫–∏–π](#)

**Releazio iOS SDK** ‚Äî —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è–º–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –≤ iOS. SDK –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø–æ–ª–Ω—ã–π –Ω–∞–±–æ—Ä –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π, –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è changelog –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π.

## ‚ú® –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üöÄ **–ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π** ‚Äî –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è –Ω–æ–≤—ã—Ö –≤–µ—Ä—Å–∏–π —á–µ—Ä–µ–∑ API
- üéØ **4 —Ç–∏–ø–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π** ‚Äî –ü–æ–¥–¥–µ—Ä–∂–∫–∞ latest, silent, popup –∏ popup force —Ä–µ–∂–∏–º–æ–≤
- üìù **Changelog** ‚Äî –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π WebView –¥–ª—è –ø–æ—Å—Ç–æ–≤
- üé® **UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã** ‚Äî –ì–æ—Ç–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–ª—è SwiftUI –∏ UIKit
- üåç **–õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è** ‚Äî –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ –∏ —Ä—É—Å—Å–∫–æ–≥–æ —è–∑—ã–∫–æ–≤
- üîî **–ë–µ–π–¥–∂–∏ –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** ‚Äî –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –Ω–æ–≤—ã—Ö –≤–µ—Ä—Å–∏–π
- ‚öôÔ∏è **–ì–∏–±–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞** ‚Äî –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è —Ü–≤–µ—Ç–æ–≤, –ª–æ–∫–∞–ª–∏ –∏ –ø–æ–≤–µ–¥–µ–Ω–∏—è

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- iOS 15.0+ / macOS 12.0+ / watchOS 8.0+ / tvOS 15.0+
- Swift 5.9+
- Xcode 14.0+

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### Swift Package Manager

**–î–æ–±–∞–≤—å—Ç–µ –≤ Xcode:**
1. File ‚Üí Add Package Dependencies
2. –í—Å—Ç–∞–≤—å—Ç–µ URL: `https://github.com/Releazio/releazio-sdk-ios`
3. –í—ã–±–µ—Ä–∏—Ç–µ –≤–µ—Ä—Å–∏—é –∏ –¥–æ–±–∞–≤—å—Ç–µ –≤ –ø—Ä–æ–µ–∫—Ç

**–ò–ª–∏ –≤ Package.swift:**
```swift
dependencies: [
    .package(url: "https://github.com/Releazio/releazio-sdk-ios", from: "1.0.5")
]
```

> **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `from: "1.0.5"` –æ–∑–Ω–∞—á–∞–µ—Ç –º–∏–Ω–∏–º–∞–ª—å–Ω—É—é –≤–µ—Ä—Å–∏—é 1.0.5, –ø—Ä–∏ —ç—Ç–æ–º –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ–¥–Ω—è—è –¥–æ—Å—Ç—É–ø–Ω–∞—è –≤–µ—Ä—Å–∏—è –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ 1.x.x (–¥–æ —Å–ª–µ–¥—É—é—â–µ–π major –≤–µ—Ä—Å–∏–∏ 2.0.0). –ü—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –≤ Xcode –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —Å–∞–º–∞—è —Å–≤–µ–∂–∞—è –≤–µ—Ä—Å–∏—è (1.0.6, 1.2.0, 1.5.0 –∏ —Ç.–¥.). –û–±–Ω–æ–≤–ª—è—Ç—å –≤–µ—Ä—Å–∏—é –≤ README –ø—Ä–∏ –∫–∞–∂–¥–æ–º —Ä–µ–ª–∏–∑–µ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è.

<!-- CocoaPods installation is not supported; use Swift Package Manager -->

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ò–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ SDK

```swift
import Releazio
```

### 2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ SDK

```swift
@main
struct YourApp: App {
    init() {
        let configuration = ReleazioConfiguration(
            apiKey: "your-api-key",
            locale: "ru", // –∏–ª–∏ "en"
            debugLoggingEnabled: true
        )
        
        Releazio.configure(with: configuration)
    }
    
    var body: some Scene {
        WindowGroup {
            ContentView()
        }
    }
}
```

### 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

```swift
Task {
    do {
        let updateState = try await Releazio.shared.checkUpdates()
        
        // –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω—É–∂–Ω–æ –ª–∏ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø–æ–ø–∞–ø
        if updateState.shouldShowPopup {
            // –ü–æ–∫–∞–∂–∏—Ç–µ ReleazioUpdatePromptView
        }
        
        // –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω—É–∂–Ω–æ –ª–∏ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –±–µ–π–¥–∂
        if updateState.shouldShowBadge {
            // –ü–æ–∫–∞–∂–∏—Ç–µ BadgeView
        }
        
        // –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω—É–∂–Ω–æ –ª–∏ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –∫–Ω–æ–ø–∫—É –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
        if updateState.shouldShowUpdateButton {
            // –ü–æ–∫–∞–∂–∏—Ç–µ –∫–Ω–æ–ø–∫—É –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
        }
    } catch {
        print("–û—à–∏–±–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π: \(error)")
    }
}
```

## üìö –¢–∏–ø—ã –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π

SDK –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç 4 —Ç–∏–ø–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å API:

- **Type 0 (latest)** ‚Äî –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –±–µ–π–¥–∂, –ø—Ä–∏ –∫–ª–∏–∫–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è post_url
- **Type 1 (silent)** ‚Äî –¢–æ–ª—å–∫–æ –∫–Ω–æ–ø–∫–∞ "–û–±–Ω–æ–≤–∏—Ç—å", –ø–æ–ø–∞–ø –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è
- **Type 2 (popup)** ‚Äî –ó–∞–∫—Ä—ã–≤–∞–µ–º—ã–π –ø–æ–ø–∞–ø —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π show_interval
- **Type 3 (popup force)** ‚Äî –ù–µ–∑–∞–∫—Ä—ã–≤–∞–µ–º—ã–π –ø–æ–ø–∞–ø —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –ø—Ä–æ–ø—É—Å–∫–æ–≤ (skip_attempts)

## üé® UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### SwiftUI

#### ReleazioUpdatePromptView
–ü–æ–ø–∞–ø –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –¥–≤—É—Ö —Å—Ç–∏–ª–µ–π: Native iOS Alert –∏ InAppUpdate.

```swift
ReleazioUpdatePromptView(
    updateState: updateState,
    style: .native
    locale: "ru",
    onUpdate: {
        Releazio.shared.openAppStore(updateState: updateState)
    },
    onSkip: { remaining in
        print("–û—Å—Ç–∞–ª–æ—Å—å –ø—Ä–æ–ø—É—Å–∫–æ–≤: \(remaining)")
    },
    onClose: {
        // –ó–∞–∫—Ä—ã—Ç—å –ø–æ–ø–∞–ø
    },
    onInfoTap: {
        Releazio.shared.openPostURL(updateState: updateState)
    }
)
```

#### VersionView
–ö–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤–µ—Ä—Å–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å –∫–Ω–æ–ø–∫–æ–π –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è (Type 1 - –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –≤–Ω–∏–∑—É —ç–∫—Ä–∞–Ω–∞).

–≠—Ç–æ—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç:
- –¢–µ–∫—Å—Ç –≤–µ—Ä—Å–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–í–µ—Ä—Å–∏—è 1.2") —Å –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–π –∂–µ–ª—Ç–æ–π —Ç–æ—á–∫–æ–π, –∫–æ–≥–¥–∞ –ø–æ—Å—Ç –Ω–µ –ø—Ä–æ—á–∏—Ç–∞–Ω
- –ö–Ω–æ–ø–∫—É –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è (—á–µ—Ä–Ω–∞—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é), –∫–æ–≥–¥–∞ –¥–æ—Å—Ç—É–ø–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- –ñ–µ–ª—Ç–∞—è —Ç–æ—á–∫–∞ –ø–æ—è–≤–ª—è–µ—Ç—Å—è, –∫–æ–≥–¥–∞ –µ—Å—Ç—å –Ω–µ–ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã–π –ø–æ—Å—Ç (postUrl —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∏ –Ω–µ –±—ã–ª –æ—Ç–∫—Ä—ã—Ç)
- –ù–∞–∂–∞—Ç–∏–µ –Ω–∞ —Ç–µ–∫—Å—Ç –≤–µ—Ä—Å–∏–∏ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç URL –ø–æ—Å—Ç–∞ (post_url, –µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–µ–Ω, –∏–Ω–∞—á–µ posts_url)
- –ö–Ω–æ–ø–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç URL App Store (app_url)
- –ü–æ–ª–Ω–æ—Å—Ç—å—é –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ —Ü–≤–µ—Ç–∞ –∏ —Å—Ç—Ä–æ–∫–∏

**–ü—Ä–∏–º–µ—Ä SwiftUI:**
```swift
VersionView(
    updateState: updateState,
    onUpdateTap: {
        Releazio.shared.openAppStore(updateState: updateState)
    },
    onVersionTap: {
        // –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: –∫–∞—Å—Ç–æ–º–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –Ω–∞–∂–∞—Ç–∏—è –Ω–∞ –≤–µ—Ä—Å–∏—é
        // –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç badgeURL (post_url –∏–ª–∏ posts_url)
        Releazio.shared.openPostURL(updateState: updateState)
    }
)
```

**–° –∫–∞—Å—Ç–æ–º–Ω—ã–º–∏ —Ü–≤–µ—Ç–∞–º–∏:**
```swift
let customColors = UIComponentColors(
    updateButtonColor: .black,
    updateButtonTextColor: .white,
    versionBackgroundColor: .systemGray6,
    versionTextColor: .label
)

VersionView(
    updateState: updateState,
    customColors: customColors,
    onUpdateTap: {
        Releazio.shared.openAppStore(updateState: updateState)
    }
)
```

#### BadgeView
–ë–µ–π–¥–∂-–∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –¥–ª—è –Ω–æ–≤—ã—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π.

```swift
BadgeView(
    text: localization.badgeNewText,
    backgroundColor: .yellow,
    textColor: .black
)
```

#### ChangelogView
–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ changelog —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π WebView –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –ø–æ—Å—Ç–æ–≤.

```swift
ChangelogView(changelog: changelog)
```

### UIKit

#### ReleazioUpdatePromptViewController

```swift
let viewController = ReleazioUpdatePromptViewController(
    updateState: updateState,
    style: .native
    onUpdate: {
        Releazio.shared.openAppStore(updateState: updateState)
    },
    onSkip: { remaining in
        print("–û—Å—Ç–∞–ª–æ—Å—å –ø—Ä–æ–ø—É—Å–∫–æ–≤: \(remaining)")
    },
    onClose: {
        self.dismiss(animated: true)
    },
    onInfoTap: {
        Releazio.shared.openPostURL(updateState: updateState)
    }
)

present(viewController, animated: true)
```

#### VersionUIKitView
UIKit –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤–µ—Ä—Å–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å –∫–Ω–æ–ø–∫–æ–π –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è (Type 1 - –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –≤–Ω–∏–∑—É —ç–∫—Ä–∞–Ω–∞).

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –∂–µ–ª—Ç–æ–π —Ç–æ—á–∫–∏, –∫–æ–≥–¥–∞ –ø–æ—Å—Ç –Ω–µ –ø—Ä–æ—á–∏—Ç–∞–Ω
- –ù–∞–∂–∏–º–∞–µ–º—ã–π –ª–µ–π–±–ª –≤–µ—Ä—Å–∏–∏ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç URL –ø–æ—Å—Ç–∞
- –ß–µ—Ä–Ω–∞—è –∫–Ω–æ–ø–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
- –ü–æ–ª–Ω–æ—Å—Ç—å—é –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–π

```swift
let versionView = VersionUIKitView(
    updateState: updateState
)

versionView.onUpdateTap = {
    Releazio.shared.openAppStore(updateState: updateState)
}

versionView.onVersionTap = {
    // –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: –∫–∞—Å—Ç–æ–º–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –Ω–∞–∂–∞—Ç–∏—è –Ω–∞ –≤–µ—Ä—Å–∏—é
    // –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç badgeURL (post_url –∏–ª–∏ posts_url)
    Releazio.shared.openPostURL(updateState: updateState)
}

view.addSubview(versionView)
// –ù–∞—Å—Ç—Ä–æ–π—Ç–µ constraints
```

#### ChangelogViewController

```swift
let changelogVC = ChangelogViewController(changelog: changelog)
present(changelogVC, animated: true)
```

## üîß API Reference

### –û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã

#### `checkUpdates() async throws -> UpdateState`
–ì–ª–∞–≤–Ω—ã–π –º–µ—Ç–æ–¥ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π. –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç `UpdateState` —Å –ø–æ–ª–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π.

```swift
let updateState = try await Releazio.shared.checkUpdates()
```

#### `openAppStore(updateState:) -> Bool`
–û—Ç–∫—Ä—ã–≤–∞–µ—Ç App Store –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

```swift
Releazio.shared.openAppStore(updateState: updateState)
```

#### `openPostURL(updateState:) -> Bool`
–û—Ç–∫—Ä—ã–≤–∞–µ—Ç URL –ø–æ—Å—Ç–∞ (–¥–ª—è type 0 –∏–ª–∏ –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –∫–Ω–æ–ø–∫—É –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏).

```swift
Releazio.shared.openPostURL(updateState: updateState)
```

#### `markPostAsOpened(postURL:)`
–û—Ç–º–µ—á–∞–µ—Ç –ø–æ—Å—Ç –∫–∞–∫ –æ—Ç–∫—Ä—ã—Ç—ã–π (–¥–ª—è type 0, —á—Ç–æ–±—ã —Å–∫—Ä—ã—Ç—å –±–µ–π–¥–∂).

```swift
Releazio.shared.markPostAsOpened(postURL: postURL)
```

#### `markPopupAsShown(version:updateType:)`
–û—Ç–º–µ—á–∞–µ—Ç –ø–æ–ø–∞–ø –∫–∞–∫ –ø–æ–∫–∞–∑–∞–Ω–Ω—ã–π (–¥–ª—è type 2, 3).

```swift
Releazio.shared.markPopupAsShown(
    version: updateState.currentVersion,
    updateType: updateState.updateType
)
```

#### `skipUpdate(version:) -> Int`
–ü—Ä–æ–ø—É—Å–∫–∞–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Å—Ç–∞–≤—à–∏—Ö—Å—è –ø–æ–ø—ã—Ç–æ–∫ (–¥–ª—è type 3).

```swift
let remaining = Releazio.shared.skipUpdate(version: updateState.currentVersion)
```

### UpdateState

–°—Ç—Ä—É–∫—Ç—É—Ä–∞, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–∞—è –º–µ—Ç–æ–¥–æ–º `checkUpdates()`, —Å–æ–¥–µ—Ä–∂–∏—Ç:

- `updateType: Int` ‚Äî –¢–∏–ø –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è (0, 1, 2, 3)
- `shouldShowBadge: Bool` ‚Äî –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –ª–∏ –±–µ–π–¥–∂ (type 0)
- `shouldShowPopup: Bool` ‚Äî –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –ª–∏ –ø–æ–ø–∞–ø (type 2, 3)
- `shouldShowUpdateButton: Bool` ‚Äî –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –ª–∏ –∫–Ω–æ–ø–∫—É –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è (type 1)
- `remainingSkipAttempts: Int` ‚Äî –û—Å—Ç–∞–ª–æ—Å—å –ø—Ä–æ–ø—É—Å–∫–æ–≤ (type 3)
- `channelData: ChannelData` ‚Äî –ü–æ–ª–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ API
- `badgeURL: String?` ‚Äî URL –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –±–µ–π–¥–∂
- `updateURL: String?` ‚Äî URL –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- `currentVersionName: String` ‚Äî –¢–µ–∫—É—â–∞—è –≤–µ—Ä—Å–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è)
- `latestVersionName: String` ‚Äî –ü–æ—Å–ª–µ–¥–Ω—è—è –¥–æ—Å—Ç—É–ø–Ω–∞—è –≤–µ—Ä—Å–∏—è (–¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è)
- `isUpdateAvailable: Bool` ‚Äî –î–æ—Å—Ç—É–ø–Ω–æ –ª–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### ReleazioConfiguration

```swift
let configuration = ReleazioConfiguration(
    apiKey: "your-api-key",                      // –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ
    debugLoggingEnabled: false,                   // –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: false
    networkTimeout: 30,                          // –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: 30 —Å–µ–∫—É–Ω–¥
    analyticsEnabled: true,                       // –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: true
    cacheExpirationTime: 3600,                    // –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: 3600 —Å–µ–∫—É–Ω–¥ (1 —á–∞—Å)
    locale: "en",                                 // –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: "en" (–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è "ru")
    badgeColor: UIColor.systemYellow              // –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: nil (system yellow)
)
```

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã

- **apiKey** ‚Äî API –∫–ª—é—á –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
- **debugLoggingEnabled** ‚Äî –í–∫–ª—é—á–∏—Ç—å –æ—Ç–ª–∞–¥–æ—á–Ω—ã–µ –ª–æ–≥–∏
- **networkTimeout** ‚Äî –¢–∞–π–º–∞—É—Ç —Å–µ—Ç–µ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ —Å–µ–∫—É–Ω–¥–∞—Ö
- **analyticsEnabled** ‚Äî –í–∫–ª—é—á–∏—Ç—å —Å–±–æ—Ä –∞–Ω–∞–ª–∏—Ç–∏–∫–∏
- **cacheExpirationTime** ‚Äî –í—Ä–µ–º—è –∂–∏–∑–Ω–∏ –∫—ç—à–∞ –≤ —Å–µ–∫—É–Ω–¥–∞—Ö
- **locale** ‚Äî –õ–æ–∫–∞–ª—å –¥–ª—è –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏ ("en" –∏–ª–∏ "ru")
- **badgeColor** ‚Äî –ö–∞—Å—Ç–æ–º–Ω—ã–π —Ü–≤–µ—Ç –±–µ–π–¥–∂–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

## üåç –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è

SDK –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –¥–≤–∞ —è–∑—ã–∫–∞:

- **en** ‚Äî –ê–Ω–≥–ª–∏–π—Å–∫–∏–π
- **ru** ‚Äî –†—É—Å—Å–∫–∏–π

–õ–æ–∫–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏:
- `update.title` ‚Äî –ó–∞–≥–æ–ª–æ–≤–æ–∫ –ø–æ–ø–∞–ø–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- `update.message` ‚Äî –°–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏
- `update.button.update` ‚Äî –¢–µ–∫—Å—Ç –∫–Ω–æ–ø–∫–∏ "–û–±–Ω–æ–≤–∏—Ç—å"
- `update.button.skip` ‚Äî –¢–µ–∫—Å—Ç –∫–Ω–æ–ø–∫–∏ "–ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å"
- `update.button.close` ‚Äî –¢–µ–∫—Å—Ç –∫–Ω–æ–ø–∫–∏ "–ó–∞–∫—Ä—ã—Ç—å"
- `update.badge.new` ‚Äî –¢–µ–∫—Å—Ç –±–µ–π–¥–∂–∞ "–ù–æ–≤–æ–µ"
- `update.whats.new` ‚Äî –¢–µ–∫—Å—Ç "–ß—Ç–æ –Ω–æ–≤–æ–≥–æ"

## üìñ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞ –≤ —Å–ª–µ–¥—É—é—â–∏—Ö —Ñ–∞–π–ª–∞—Ö:

- **[API Documentation](./Documentation/API.md)** ‚Äî –ü–æ–ª–Ω–∞—è —Å–ø—Ä–∞–≤–∫–∞ –ø–æ API
- **[Integration Guide](./Documentation/Integration.md)** ‚Äî –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

–î–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ:

```bash
jazzy --source-directory Sources/Releazio
```

## üí° –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

–ü–æ–ª–Ω—ã–π –ø—Ä–∏–º–µ—Ä –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –¥–æ—Å—Ç—É–ø–µ–Ω –≤ –ø–∞–ø–∫–µ [Examples](./Examples/ReleazioExample/).

### –ü—Ä–∏–º–µ—Ä –ø–æ–ª–Ω–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ (SwiftUI)

```swift
import SwiftUI
import Releazio

struct ContentView: View {
    @State private var updateState: UpdateState?
    @State private var showUpdatePrompt = false
    
    var body: some View {
        VStack {
            // –í–∞—à –∫–æ–Ω—Ç–µ–Ω—Ç
            
            // –í–µ—Ä—Å–∏—è –∏ –∫–Ω–æ–ø–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
            if let updateState = updateState {
                VersionView(
                    updateState: updateState,
                    locale: "ru",
                    onUpdateTap: {
                        Releazio.shared.openAppStore(updateState: updateState)
                    }
                )
            }
        }
        .onAppear {
            checkUpdates()
        }
        .sheet(isPresented: $showUpdatePrompt) {
            if let updateState = updateState {
                ReleazioUpdatePromptView(
                    updateState: updateState,
                    style: .native,
                    locale: "ru",
                    onUpdate: {
                        Releazio.shared.openAppStore(updateState: updateState)
                    },
                    onSkip: { remaining in
                        Releazio.shared.skipUpdate(version: updateState.currentVersion)
                        if remaining == 0 {
                            showUpdatePrompt = false
                        }
                    },
                    onClose: {
                        Releazio.shared.markPopupAsShown(
                            version: updateState.currentVersion,
                            updateType: updateState.updateType
                        )
                        showUpdatePrompt = false
                    },
                    onInfoTap: {
                        Releazio.shared.openPostURL(updateState: updateState)
                    }
                )
            }
        }
    }
    
    private func checkUpdates() {
        Task {
            do {
                let state = try await Releazio.shared.checkUpdates()
                await MainActor.run {
                    updateState = state
                    
                    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–æ–ø–∞–ø –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
                    if state.shouldShowPopup {
                        showUpdatePrompt = true
                    }
                }
            } catch {
                print("–û—à–∏–±–∫–∞: \(error)")
            }
        }
    }
}
```

## üêõ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

SDK –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `ReleazioError` –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫:

```swift
do {
    let updateState = try await Releazio.shared.checkUpdates()
} catch ReleazioError.configurationMissing {
    print("SDK –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω")
} catch ReleazioError.apiError(let code, let message) {
    print("API –æ—à–∏–±–∫–∞: \(code) - \(message)")
} catch {
    print("–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ—à–∏–±–∫–∞: \(error)")
}
```

## ü§ù –ü–æ–¥–¥–µ—Ä–∂–∫–∞

- üìß Email: support@releazio.com
- üêõ Issues: [GitHub Issues](https://github.com/Releazio/releazio-sdk-ios/issues)
- üìñ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: [Releazio Docs](https://releazio.com/docs)

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

Releazio iOS SDK –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ–¥ –ª–∏—Ü–µ–Ω–∑–∏–µ–π MIT. –°–º–æ—Ç—Ä–∏—Ç–µ [LICENSE](LICENSE) –¥–ª—è –¥–µ—Ç–∞–ª–µ–π.

---

**–°–¥–µ–ª–∞–Ω–æ —Å ‚ù§Ô∏è –∫–æ–º–∞–Ω–¥–æ–π Releazio**
